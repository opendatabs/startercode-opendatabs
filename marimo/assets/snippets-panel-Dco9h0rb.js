import{a as N,N as G,j as r,bE as M,r as I,u as O,S as B,aR as A,aQ as Q,aS as R,aJ as U,bF as V,bG as K,bH as T,p as D,aO as S,bI as L,aP as X,al as Y,d as Z,b as ee,I as te,H as re,bn as ie,E as oe,U as se,bb as ae,V as le,bJ as ne,be as me,bc as pe,F as ce,ap as de,br as he,bd as ue,__tla as xe}from"./index-OC46250R.js";import{P as fe}from"./empty-state-BIBXzY_0.js";import{H as E,__tla as be}from"./edit-page-DJ8kJZ9w.js";import{B as J}from"./between-horizontal-start-FyewyCGn.js";import"./links-CbvGxbsJ.js";import{__tla as je}from"./storage-CGlP4lCF.js";import"./index-Dt9UWeWn.js";import"./index-BAH034Ue.js";import"./index-DqzMPAC8.js";import"./index-DSU75csX.js";import"./index-CSgxTUzD.js";import"./index-BLu5CX6z.js";import"./index-B8llrTSo.js";import"./index-CPN7TRA1.js";import"./index-BFSnz7iM.js";import"./index-Bq516OmX.js";import"./index-CB2pnVQG.js";import"./index-DWOaniGT.js";import"./index-c6If577Q.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-DMomwMcN.js";import"./trash-UBqfK4mR.js";import"./_createAggregator-Bn38fDd3.js";import"./_baseEach-C1FLm7WW.js";import{__tla as _e}from"./loro_wasm_bg-C1ks32Vm.js";let W,ye=Promise.all([(()=>{try{return xe}catch{}})(),(()=>{try{return be}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return _e}catch{}})()]).then(async()=>{let F,$,z,H,q,P;F=t=>{const e=N.c(6),{children:i}=t,{openModal:a,closeModal:l}=G();let s,o;return e[0]!==l||e[1]!==a?(s=()=>a(r.jsx(z,{onClose:l})),e[0]=l,e[1]=a,e[2]=s):s=e[2],e[3]!==i||e[4]!==s?(o=r.jsx(M,{onClick:s,children:i}),e[3]=i,e[4]=s,e[5]=o):o=e[5],o},$=[D.lineWrapping],z=t=>{const e=N.c(23),{onClose:i}=t,[a,l]=I.useState(""),{theme:s}=O();let o,p,v,j,f,c;e[0]!==i?(o=async m=>{m.preventDefault();const y=new FormData(m.target),C=y.get("title"),g=y.get("description"),w=y.get("code");fetch("https://marimo.io/api/suggest-snippet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:C,description:g,code:w})}),i(),B({title:"Snippet Submitted",description:"Thank you for contributing! We will review your snippet shortly."})},e[0]=i,e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(p=r.jsx(A,{children:"Contribute a Snippet"}),e[2]=p):p=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(v=r.jsxs(Q,{children:[p,r.jsxs(R,{children:["Have a useful snippet you want to share with the community? Submit it here or make a pull request"," ",r.jsx("a",{href:U.githubPage,target:"_blank",className:"underline",children:"on GitHub"}),"."]})]}),e[3]=v):v=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(j=r.jsx(V,{id:"title",name:"title",autoFocus:!0,placeholder:"Title",required:!0,autoComplete:"off"}),f=r.jsx(K,{id:"description",name:"description",autoFocus:!0,placeholder:"Description",rows:5,required:!0,autoComplete:"off"}),e[4]=j,e[5]=f):(j=e[4],f=e[5]),e[6]!==a?(c=r.jsx("input",{type:"hidden",name:"code",value:a}),e[6]=a,e[7]=c):c=e[7];const _=s==="dark"?"dark":"light";let d,h,u,x,n,b;return e[8]!==a||e[9]!==_?(d=r.jsx(T,{theme:_,language:"python",className:"cm border rounded overflow-hidden",extensions:$,value:a,onChange:l}),e[8]=a,e[9]=_,e[10]=d):d=e[10],e[11]!==c||e[12]!==d?(h=r.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[j,f,c,d]}),e[11]=c,e[12]=d,e[13]=h):h=e[13],e[14]!==i?(u=r.jsx(S,{"data-testid":"snippet-cancel-button",variant:"secondary",onClick:i,children:"Cancel"}),e[14]=i,e[15]=u):u=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(x=r.jsx(S,{"data-testid":"snippet-send-button","aria-label":"Save",variant:"default",type:"submit",children:"Send"}),e[16]=x):x=e[16],e[17]!==u?(n=r.jsxs(L,{children:[u,x]}),e[17]=u,e[18]=n):n=e[18],e[19]!==o||e[20]!==n||e[21]!==h?(b=r.jsx(X,{className:"w-fit",children:r.jsxs("form",{onSubmit:o,children:[v,h,n]})}),e[19]=o,e[20]=n,e[21]=h,e[22]=b):b=e[22],b},H=[D.lineWrapping],W=()=>{const t=N.c(22),{readSnippets:e}=Y(),[i,a]=Z.useState();let l,s;t[0]!==e?(l=()=>e(),t[0]=e,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],t[2]=s):s=t[2];const{data:o,error:p,isPending:v}=ee(l,s);if(p){let m;return t[3]!==p?(m=r.jsx(oe,{error:p}),t[3]=p,t[4]=m):m=t[4],m}if(v||!o){let m;return t[5]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(se,{size:"medium",centered:!0}),t[5]=m):m=t[5],m}const j=i?"h-1/3":"h-full";let f,c,_,d,h,u,x,n,b;return t[6]!==j?(f=te("border-b rounded-none",j),t[6]=j,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(c=r.jsx(ae,{placeholder:"Search snippets...",className:"h-6 m-1",rootClassName:"flex-1 border-r"}),t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=r.jsxs("div",{className:"flex items-center w-full",children:[c,r.jsx(F,{children:r.jsx("button",{className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:r.jsx(le,{className:"h-4 w-4"})})})]}),d=r.jsx(ne,{children:"No results"}),t[9]=_,t[10]=d):(_=t[9],d=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(h=m=>a(m),t[11]=h):h=t[11],t[12]!==o.snippets?(u=r.jsx(P,{onSelect:h,snippets:o.snippets}),t[12]=o.snippets,t[13]=u):u=t[13],t[14]!==f||t[15]!==u?(x=r.jsxs(me,{className:f,children:[_,d,u]}),t[14]=f,t[15]=u,t[16]=x):x=t[16],t[17]!==i?(n=r.jsx(I.Suspense,{children:r.jsx("div",{className:"h-2/3 snippet-viewer flex flex-col",children:i?r.jsx(q,{snippet:i,onClose:()=>a(void 0)},i.title):r.jsx(fe,{title:"",description:"Click on a snippet to view its content."})})}),t[17]=i,t[18]=n):n=t[18],t[19]!==n||t[20]!==x?(b=r.jsxs("div",{className:"flex-1 overflow-hidden",children:[x,n]}),t[19]=n,t[20]=x,t[21]=b):b=t[21],b},q=t=>{const e=N.c(33),{snippet:i,onClose:a}=t,{theme:l}=O(),{createNewCell:s}=re(),o=ie();let p;e[0]!==s||e[1]!==o||e[2]!==i.sections?(p=()=>{for(const y of[...i.sections].reverse())y.code&&s({code:y.code,before:!1,cellId:o??"__end__",skipIfCodeExists:!0})},e[0]=s,e[1]=o,e[2]=i.sections,e[3]=p):p=e[3];const v=p;let j;e[4]!==s||e[5]!==o?(j=y=>{s({code:y,before:!1,cellId:o??"__end__"})},e[4]=s,e[5]=o,e[6]=j):j=e[6];const f=j;let c,_,d,h,u,x,n,b,m;if(e[7]!==i.title?(c=r.jsx("span",{children:i.title}),e[7]=i.title,e[8]=c):c=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(_=r.jsx(pe,{className:"h-4 w-4"}),e[9]=_):_=e[9],e[10]!==a?(d=r.jsx(S,{size:"sm",variant:"ghost",onClick:a,className:"h-6 w-6 p-0 hover:bg-muted-foreground/10",children:_}),e[10]=a,e[11]=d):d=e[11],e[12]!==c||e[13]!==d?(h=r.jsxs("div",{className:"text-sm font-semibold bg-muted border-y px-2 py-1 flex justify-between items-center",children:[c,d]}),e[12]=c,e[13]=d,e[14]=h):h=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(u=r.jsx(J,{className:"ml-2 h-4 w-4"}),e[15]=u):u=e[15],e[16]!==v?(x=r.jsx("div",{className:"flex justify-end",children:r.jsx(E,{children:r.jsxs(S,{className:"float-right",size:"xs",variant:"outline",onClick:v,children:["Insert snippet",u]})})}),e[16]=v,e[17]=x):x=e[17],e[18]!==f||e[19]!==i.sections||e[20]!==i.title||e[21]!==l){let y;e[23]!==f||e[24]!==i.title||e[25]!==l?(y=C=>{const{code:g,html:w,id:k}=C;return w?r.jsx("div",{children:ce({html:w})},`${i.title}-${k}`):g?r.jsxs("div",{className:"relative hover-actions-parent pr-2",children:[r.jsx(E,{children:r.jsx(de,{content:"Insert snippet",children:r.jsx(S,{className:"absolute -top-2 -right-1 z-10 hover-action px-2 bg-background",size:"sm",variant:"outline",onClick:()=>{f(g)},children:r.jsx(J,{className:"h-5 w-5"})})})}),r.jsx(I.Suspense,{children:r.jsx(T,{theme:l==="dark"?"dark":"light",language:"python",className:"cm border rounded overflow-hidden",extensions:H,value:g,readOnly:!0},`${i.title}-${k}`)})]},`${i.title}-${k}`):null},e[23]=f,e[24]=i.title,e[25]=l,e[26]=y):y=e[26],n=i.sections.map(y),e[18]=f,e[19]=i.sections,e[20]=i.title,e[21]=l,e[22]=n}else n=e[22];return e[27]!==x||e[28]!==n?(b=r.jsxs("div",{className:"px-2 py-2 space-y-4 overflow-auto flex-1",children:[x,n]}),e[27]=x,e[28]=n,e[29]=b):b=e[29],e[30]!==b||e[31]!==h?(m=r.jsxs(r.Fragment,{children:[h,b]}),e[30]=b,e[31]=h,e[32]=m):m=e[32],m},P=t=>{const e=N.c(7),{snippets:i,onSelect:a}=t;let l,s;if(e[0]!==a||e[1]!==i){let o;e[3]!==a?(o=p=>r.jsx(he,{className:"rounded-none",onSelect:()=>a(p),children:r.jsx("div",{className:"flex flex-row gap-2 items-center",children:r.jsx("span",{className:"mt-1 text-accent-foreground",children:p.title})})},p.title),e[3]=a,e[4]=o):o=e[4],l=i.map(o),e[0]=a,e[1]=i,e[2]=l}else l=e[2];return e[5]!==l?(s=r.jsx(ue,{className:"flex flex-col overflow-auto",children:l}),e[5]=l,e[6]=s):s=e[6],s}});export{ye as __tla,W as default};
